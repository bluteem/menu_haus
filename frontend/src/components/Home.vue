<!-- MenuItems.vue -->
<template>
	<main class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden py-10 px-10 bg-gray-200">
		<h1 class="text-3xl font-bold mb-4">Dashboard</h1>

		<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
			<!-- Box for Number of Tables -->
			<div class="bg-white px-6 py-6 rounded-md shadow-md flex items-center justify-between">
				<div>
					<span class="font-bold text-3xl">{{ numberOfTables }}</span>
					<p class="text-sm text-gray-500 font-semibold">Tables</p>
				</div>
				<div class="rounded-full bg-gray-200 p-3">
					<svg
						class="w-7 h-7"
						fill="#3C50E0"
						height="24"
						width="24"
						xmlns="http://www.w3.org/2000/svg"
						viewBox="0 0 512 512">
						<g>
							<g>
								<g>
									<path
										d="M149.333,341.333H42.667v-128c0-11.776-9.536-21.333-21.333-21.333C9.536,192,0,201.557,0,213.333v149.333v128
				C0,502.443,9.536,512,21.333,512c11.797,0,21.333-9.557,21.333-21.333V384h42.667v106.667c0,11.776,9.536,21.333,21.333,21.333
				c11.797,0,21.333-9.557,21.333-21.333V384h21.333c11.797,0,21.333-9.557,21.333-21.333S161.131,341.333,149.333,341.333z" />
									<path
										d="M490.667,192c-11.797,0-21.333,9.557-21.333,21.333v128H362.667c-11.797,0-21.333,9.557-21.333,21.333
				S350.869,384,362.667,384H384v106.667c0,11.776,9.536,21.333,21.333,21.333c11.797,0,21.333-9.557,21.333-21.333V384h42.667
				v106.667c0,11.776,9.536,21.333,21.333,21.333S512,502.443,512,490.667v-128V213.333C512,201.557,502.464,192,490.667,192z" />
									<path
										d="M284.672,298.667h56.661c35.285,0,64-28.715,64-64c0-30.997-22.144-56.875-51.456-62.741l27.883-55.723
				c3.307-6.613,2.944-14.464-0.939-20.757c-3.904-6.272-10.752-10.112-18.155-10.112h-21.333C341.333,38.272,303.061,0,256,0
				s-85.333,38.272-85.333,85.333h-21.333c-7.403,0-14.251,3.84-18.155,10.112c-3.883,6.293-4.245,14.144-0.939,20.757
				l27.883,55.723c-29.312,5.867-51.456,31.744-51.456,62.741c0,35.285,28.715,64,64,64h56.661l-55.765,185.877
				c-3.371,11.285,3.029,23.168,14.315,26.56c2.048,0.619,4.096,0.896,6.123,0.896c9.195,0,17.664-5.952,20.437-15.211L256,351.573
				l43.563,145.216C302.336,506.048,310.805,512,320,512c2.027,0,4.075-0.299,6.123-0.896c11.285-3.392,17.685-15.275,14.315-26.56
				L284.672,298.667z M213.333,85.333c0-23.531,19.136-42.667,42.667-42.667s42.667,19.136,42.667,42.667H213.333z" />
								</g>
							</g>
						</g>
					</svg>
				</div>
			</div>

			<!-- Box for Number of Menu Categories -->
			<div class="bg-white px-6 py-6 rounded-md shadow-md flex items-center justify-between">
				<div>
					<span class="font-bold text-3xl">{{ numberOfMenuCategories }}</span>
					<p class="text-sm text-gray-500 font-semibold">Menu Categories</p>
				</div>
				<div class="rounded-full bg-gray-200 p-3">
					<svg
						class="w-7 h-7"
						fill="#3C50E0"
						height="24"
						width="24"
						viewBox="0 0 48 48"
						xmlns="http://www.w3.org/2000/svg">
						<g id="Layer_2" data-name="Layer 2">
							<g id="invisible_box" data-name="invisible box">
								<rect width="48" height="48" fill="none" />
							</g>
							<g id="icons_Q2" data-name="icons Q2">
								<path d="M24,10h0a2,2,0,0,1,2-2H42a2,2,0,0,1,2,2h0a2,2,0,0,1-2,2H26A2,2,0,0,1,24,10Z" />
								<path d="M24,24h0a2,2,0,0,1,2-2H42a2,2,0,0,1,2,2h0a2,2,0,0,1-2,2H26A2,2,0,0,1,24,24Z" />
								<path d="M24,38h0a2,2,0,0,1,2-2H42a2,2,0,0,1,2,2h0a2,2,0,0,1-2,2H26A2,2,0,0,1,24,38Z" />
								<path
									d="M12,2a2.1,2.1,0,0,0-1.7,1L4.2,13a2.3,2.3,0,0,0,0,2,1.9,1.9,0,0,0,1.7,1H18a2.1,2.1,0,0,0,1.7-1,1.8,1.8,0,0,0,0-2l-6-10A1.9,1.9,0,0,0,12,2Z" />
								<path d="M12,30a6,6,0,1,1,6-6A6,6,0,0,1,12,30Z" />
								<path d="M16,44H8a2,2,0,0,1-2-2V34a2,2,0,0,1,2-2h8a2,2,0,0,1,2,2v8A2,2,0,0,1,16,44Z" />
							</g>
						</g>
					</svg>
				</div>
			</div>

			<!-- Box for Number of Menu Items -->
			<div class="bg-white px-6 py-6 rounded-md shadow-md flex items-center justify-between">
				<div>
					<span class="font-bold text-3xl">{{ numberOfMenuItems }}</span>
					<p class="text-sm text-gray-500 font-semibold">Menu Items</p>
				</div>
				<div class="rounded-full bg-gray-200 p-3">
					<svg
						class="w-7 h-7"
						fill="#3C50E0"
						height="24"
						width="24"
						xmlns="http://www.w3.org/2000/svg"
						viewBox="0 0 512.075 512.075">
						<g>
							<g>
								<path
									d="M456.133,416.202H407.96c2.308-6.512,3.602-13.375,3.602-20.633c0-3.71-0.296-7.42-0.746-11.129l20.157,20.148
			c1.752,1.761,4.051,2.632,6.351,2.632s4.599-0.871,6.351-2.632c44.113-44.104,68.401-102.75,68.401-165.133
			c0-47.266-13.968-92.367-39.909-130.65c1.105-0.898,2.273-1.743,3.27-2.74c8.479-8.479,13.15-19.752,13.15-31.753
			s-4.671-23.274-13.15-31.753c-17.507-17.507-46.008-17.507-63.524,0c-1.006,1.006-1.868,2.192-2.776,3.315
			C318.351-15.423,193.683-5.974,113.398,74.312c-1.689,1.68-2.632,3.961-2.632,6.351s0.943,4.671,2.632,6.351l153.528,153.528
			c-7.779,9.917-13.653,22.258-14.453,37.367c-1.266-1.096-2.452-2.174-3.53-3.162c-1.051-0.952-1.994-1.814-2.838-2.533
			c-46.287-39.685-85.854-41.077-112.263-34.079c-2.542-2.452-4.797-4.886-6.836-7.357c-5.452-6.602-13.213-10.779-21.854-11.74
			l-1.258-0.135l-1.24,0.216c-0.036,0.009-0.072,0.018-0.108,0.018L79.13,190.733c-2.659-3.225-2.515-7.473-2.192-9.719
			c1.231-8.479-1.608-16.77-7.761-22.762c-8.147-7.914-20.848-9.71-30.9-4.365c-5.003,2.686-8.893,6.737-11.318,11.794
			c-5.416,1.41-10.15,4.464-13.734,8.875c-7.177,8.83-7.842,21.63-1.617,31.151c4.716,7.195,12.324,11.551,20.866,11.965
			c2.264,0.108,6.467,0.773,9.117,3.988l24.908,30.217c-0.79,11.821,4.285,21.962,4.572,22.519l1.06,1.617
			c0.665,0.808,1.258,1.653,1.895,2.47c-29.561,33.37-58.521,70.782-51.91,102.274c2.695,12.845,8.129,24.693,16.097,35.445H29.08
			c-9.539,0-18.477,4.689-23.902,12.522c-5.434,7.842-6.674,17.848-3.324,26.759l16.761,44.715c1.311,3.512,4.662,5.83,8.408,5.83
			h431.158c3.746,0,7.096-2.318,8.417-5.83l16.761-44.706c3.35-8.92,2.102-18.926-3.323-26.768
			C474.601,420.891,465.663,416.202,456.133,416.202z M424.622,55.26c10.492-10.51,27.594-10.518,38.113,0
			c5.084,5.084,7.887,11.848,7.887,19.052s-2.803,13.968-7.887,19.052c-0.359,0.359-0.737,0.71-1.132,1.051
			c-0.243-0.305-0.512-0.593-0.764-0.898c-2.03-2.533-4.141-5.021-6.288-7.482c-0.719-0.817-1.401-1.653-2.129-2.461
			c-2.829-3.144-5.731-6.243-8.749-9.261c-3.045-3.054-6.171-5.982-9.351-8.821c-0.871-0.79-1.788-1.527-2.668-2.3
			c-2.344-2.039-4.707-4.051-7.105-5.973c-0.332-0.269-0.647-0.566-0.979-0.826C423.913,55.996,424.263,55.619,424.622,55.26z
			 M357.209,358.633c-0.934,8.497-5.443,15.306-11.489,17.372c-8.138,2.74-19.618-2.668-31.412-14.902
			c-2.901-3.018-5.65-5.991-8.264-8.947c-0.458-0.512-0.862-1.006-1.311-1.518c-2.219-2.542-4.365-5.066-6.369-7.554
			c-0.242-0.305-0.476-0.602-0.719-0.907c-14.084-17.677-22.762-34.079-25.834-48.945l-0.449-2.21
			c-2.326-13.986,0.395-26.579,8.354-37.681l53.859,53.85l2.919,4.222c9.18,13.213,19.429,27.962,20.732,41.499
			C357.415,354.852,357.415,356.756,357.209,358.633z M182.024,94.396c-1.563,1.078-3.341,1.599-5.102,1.599
			c-2.856,0-5.659-1.347-7.402-3.88c-2.82-4.078-1.797-9.674,2.282-12.486c47.023-32.516,106.496-43.861,159.142-30.406
			c4.806,1.231,7.707,6.126,6.476,10.932c-1.24,4.806-6.126,7.698-10.932,6.467C278.837,54.407,224.816,64.799,182.024,94.396z
			 M55.452,210.234c-5.228-6.342-13.087-10.069-22.115-10.509c-2.74-0.135-5.183-1.536-6.701-3.862
			c-1.958-2.991-1.734-7.195,0.521-9.971c1.24-1.509,2.803-2.497,4.626-2.892c5.075-1.132,9.171-4.518,11.246-9.279
			c0.755-1.725,2.012-3.063,3.719-3.988c3.162-1.68,7.33-1.114,9.899,1.392c1.985,1.94,2.901,4.608,2.515,7.321
			c-1.294,8.947,0.871,17.363,6.099,23.705l18.971,23.022c-3.97,2.147-7.33,4.752-10.015,7.824L55.452,210.234z M388.513,416.202
			H61.973c-11.722-11.372-19.204-24.522-22.276-39.128c-4.985-23.759,24.603-60.362,44.742-83.267
			c8.713,15.064,13.995,31.286,15.342,47.823c1.195,14.641,6.782,28.385,16.15,39.747c12.602,15.297,30.424,24.504,50.185,25.95
			c1.796,0.126,3.584,0.198,5.362,0.198c17.803,0,34.708-6.521,48.092-18.639c27.855-25.205,31.169-69.425,7.384-98.564
			c-10.348-12.674-24.845-21.495-40.834-24.837c-11.758-2.461-22.627-6.602-32.382-12.225c25.986-1.608,53.49,9.279,80.671,32.597
			c0.728,0.611,1.527,1.347,2.425,2.165c4.249,3.889,10.357,9.45,18.423,13.438c0.728,2.74,1.644,5.551,2.695,8.435
			c0,0,0,0.009,0.009,0.009c0.997,2.731,2.138,5.524,3.449,8.381c0.126,0.269,0.269,0.539,0.395,0.808
			c3.261,6.961,7.5,14.309,12.809,22.034c1.24,1.805,2.47,3.611,3.809,5.434c1.132,1.527,2.344,3.09,3.557,4.644
			c1.814,2.335,3.71,4.689,5.686,7.051c1.078,1.275,2.138,2.56,3.27,3.853c3.288,3.791,6.719,7.599,10.429,11.444
			c1.805,1.877,3.575,3.548,5.318,5.12c0.521,0.467,1.024,0.907,1.536,1.347c1.338,1.159,2.659,2.228,3.961,3.225
			c0.413,0.314,0.826,0.656,1.24,0.952c1.608,1.177,3.18,2.237,4.716,3.18c0.449,0.269,0.88,0.503,1.32,0.763
			c1.168,0.674,2.308,1.285,3.431,1.841c0.476,0.234,0.952,0.476,1.419,0.692c1.428,0.647,2.839,1.24,4.186,1.707
			c0.225,0.081,0.431,0.126,0.656,0.198c1.177,0.395,2.326,0.719,3.44,0.988c0.44,0.108,0.871,0.198,1.302,0.287
			c0.97,0.198,1.904,0.359,2.82,0.476c0.314,0.036,0.638,0.099,0.943,0.126c1.15,0.126,2.255,0.18,3.315,0.189
			c0.099,0,0.216,0.018,0.323,0.018c0.126,0,0.225-0.027,0.35-0.027c1.832-0.027,3.53-0.18,5.075-0.44
			c0.171-0.027,0.332-0.054,0.503-0.09c1.545-0.278,2.937-0.647,4.15-1.051c0.045-0.018,0.099-0.027,0.144-0.045
			c12.8-4.357,21.827-16.77,23.552-32.391c0.278-2.461,0.278-4.895,0.162-7.312c-0.036-0.728-0.126-1.455-0.198-2.192
			c-0.081-0.898-0.099-1.805-0.234-2.695l15.629,15.629c-0.009,5.713,0.512,11.021,1.581,16.141
			c1.051,5.084,1.59,10.258,1.59,15.378C393.597,403.132,391.926,409.932,388.513,416.202z M374.302,87.363
			c-4.195-2.65-5.452-8.201-2.803-12.396c2.65-4.195,8.21-5.434,12.396-2.794c12.315,7.788,23.884,17.049,34.376,27.54
			c3.503,3.512,3.503,9.198,0,12.701c-1.761,1.752-4.06,2.632-6.36,2.632c-2.291,0-4.59-0.88-6.351-2.632
			C396.013,102.867,385.495,94.432,374.302,87.363z" />
							</g>
						</g>
					</svg>
				</div>
			</div>

			<!-- Box for Number of Users -->
			<div class="bg-white px-6 py-6 rounded-md shadow-md flex items-center justify-between">
				<div>
					<span class="font-bold text-3xl">{{ numberOfUsers }}</span>
					<p class="text-sm text-gray-500 font-semibold">Users</p>
				</div>
				<div class="rounded-full bg-gray-200 p-3">
					<svg
						class="w-7 h-7"
						fill="#3C50E0"
						height="24"
						width="24"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 460.067 460.067">
						<g>
							<path
								d="M454.165,154.398c-0.111-22.012-18.11-39.92-40.122-39.92c-7.096,0-67.007,0-73.949,0
		c1.413,5.186,2.191,10.629,2.22,16.245l0.674,134.227c0.073,14.404-7.867,27.011-19.623,33.599v141.027
		c0,11.236,9.109,20.345,20.345,20.345c11.236,0,20.345-9.108,20.345-20.345V281.348c0-2.426,1.967-4.392,4.393-4.392
		c2.426,0,4.393,1.967,4.393,4.393v158.229c0,11.236,9.108,20.345,20.345,20.345c11.236,0,20.345-9.108,20.345-20.345
		c0-269.024-0.36-115.048-0.369-284.913c0-1.941,1.56-3.523,3.501-3.549c1.941-0.026,3.542,1.513,3.595,3.454l0,0l0.626,124.557
		c0.047,9.335,7.628,16.869,16.952,16.869c0.028,0,0.059,0,0.087,0c9.363-0.047,16.916-7.676,16.869-17.039L454.165,154.398z" />
							<path
								d="M368.676,103.277c19.39,0,35.138-15.746,35.138-35.138c0-19.407-15.732-35.139-35.138-35.139
		c-19.406,0-35.138,15.732-35.138,35.139C333.538,87.538,349.294,103.277,368.676,103.277z" />
							<path
								d="M117.079,264.95l0.674-134.227c0.028-5.617,0.806-11.06,2.219-16.245c-6.939,0-66.854,0-73.95,0
		c-22.013,0-40.011,17.908-40.121,39.921L5.276,278.955c-0.047,9.363,7.505,16.992,16.869,17.039c0.029,0,0.058,0,0.087,0
		c9.323,0,16.905-7.534,16.952-16.869l0.626-124.557c0.016-3.163,2.445-6.183,6.547-6.183l0.008,291.19
		c0,11.236,9.109,20.345,20.345,20.345c11.236,0,20.345-9.108,20.345-20.345V281.348c0-2.426,1.967-4.392,4.393-4.392
		c2.426,0,4.393,1.967,4.393,4.393v158.229c0,11.236,9.108,20.345,20.345,20.345c11.236,0,20.345-9.108,20.345-20.345V298.449
		C124.869,291.833,117.007,279.283,117.079,264.95z" />
							<path
								d="M56.538,68.139c0,10.49,4.602,19.9,11.892,26.339h0c6.195,5.472,14.33,8.799,23.246,8.799
		c19.405,0,35.138-15.731,35.138-35.138C126.815,48.732,111.083,33,91.676,33C72.265,33,56.538,48.738,56.538,68.139z" />
							<path
								d="M207.013,67.803L207.013,67.803c6.406,4.966,14.442,7.93,23.174,7.93c20.839,0,37.866-16.906,37.866-37.866
		C268.054,16.877,250.991,0,230.187,0l0,0l0,0c-20.907,0-37.866,16.948-37.866,37.867C192.321,49.509,197.614,60.519,207.013,67.803
		z" />
							<path
								d="M279.077,87.803c-10.17,0-87.895,0-98.087,0c-17.792,0-33.149,10.856-39.767,26.291c-2.266,5.285-3.441,10.95-3.47,16.729
		l-0.674,134.227v0.001c-0.051,10.091,8.088,18.311,18.179,18.362c0.031,0,0.063,0,0.094,0c10.047,0,18.218-8.12,18.269-18.179
		l0.674-134.228c0-0.005,0-0.011,0-0.016c0.015-1.943,1.598-3.508,3.541-3.501c1.943,0.007,3.514,1.585,3.514,3.528l0.008,307.125
		v0.001c0,12.108,9.816,21.925,21.925,21.925s21.925-9.816,21.925-21.925v-0.001V267.629c0-2.614,2.119-4.733,4.733-4.733
		c2.614,0,4.733,2.119,4.733,4.733v170.513v0.001c0,12.108,9.816,21.925,21.925,21.925c12.109,0,21.925-9.816,21.925-21.925v-0.001
		c0-78.408-0.376-225.029-0.397-307.113c0-2.105,1.701-3.815,3.807-3.824c2.105-0.009,3.822,1.685,3.84,3.791
		c0,0.004,0,0.007,0,0.011l0.674,134.228c0.051,10.06,8.22,18.179,18.268,18.179c0.031,0,0.063,0,0.094,0
		c10.09-0.051,18.23-8.271,18.179-18.362v-0.001l-0.674-134.227C322.194,107.083,302.779,87.803,279.077,87.803z" />
						</g>
					</svg>
				</div>
			</div>
		</div>
	</main>
</template>

<script>
import { ref, onMounted, computed } from "vue";
import axios from "axios";

export default {
	components: {},
	setup() {
		const allTablesData = ref([]);
		const allMenuCategoriesData = ref([]);
		const allMenuItemsData = ref([]);
		const allUsersData = ref([]);

		// Fetch menu items when the component is mounted
		onMounted(async () => {
			try {
				const response = await axios.get("http://localhost:5000/api/tables");
				allTablesData.value = response.data.tableData;
			} catch (error) {
				console.error("Error:", error);
			}
			try {
				const response = await axios.get("http://localhost:5000/api/menucategories");
				allMenuCategoriesData.value = response.data.menuCategoryData;
			} catch (error) {
				console.error("Error:", error);
			}
			try {
				const response = await axios.get("http://localhost:5000/api/menuitems");
				allMenuItemsData.value = response.data.menuItemData;
			} catch (error) {
				console.error("Error:", error);
			}
			try {
				const response = await axios.get("http://localhost:5000/api/users");
				allUsersData.value = response.data.userData;
			} catch (error) {
				console.error("Error:", error);
			}
		});

		// Computed property to calculate the numbers
		const numberOfTables = computed(() => allTablesData.value.length);
		const numberOfMenuCategories = computed(() => allMenuCategoriesData.value.length);
		const numberOfMenuItems = computed(() => allMenuItemsData.value.length);
		const numberOfUsers = computed(() => allUsersData.value.length);

		return {
			allTablesData,
			allMenuCategoriesData,
			allMenuItemsData,
			allUsersData,
			numberOfTables,
			numberOfMenuCategories,
			numberOfMenuItems,
			numberOfUsers,
		};
	},
};
</script>

<style>
/* Add your Tailwind CSS styles here */
</style>
